<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Console | Ending Signal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    as="style"
    crossorigin
    href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"
  />
  <style>
    :root {
      --bg-app: #0b0b0b;
      --bg-card: #141414;
      --text-white: #ffffff;
      --text-gray: #a8a8a8;
    }

    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue',
        'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji',
        'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
      background-color: var(--bg-app);
      color: var(--text-white);
      margin: 0;
      min-height: 100vh;
    }
  </style>
</head>
<body class="antialiased">
  <div id="toastContainer" class="fixed top-4 left-1/2 -translate-x-1/2 z-50 space-y-2 w-[calc(100%-32px)] max-w-[520px]"></div>

  <div class="min-h-screen px-6 py-10">
    <div class="mx-auto flex w-full max-w-[960px] flex-col gap-8">
      <header class="flex flex-col gap-3 rounded-2xl border border-white/10 bg-white/5 p-6">
        <div class="flex items-center justify-between gap-4">
          <div>
            <h1 class="text-2xl font-semibold">Admin Console</h1>
            <p class="text-sm text-white/70">관리자 전용 콘솔입니다.</p>
          </div>
          <a href="/" class="rounded-full border border-white/20 px-4 py-2 text-sm text-white hover:border-white/40">
            메인으로 돌아가기
          </a>
        </div>
        <p id="adminUserEmail" class="text-sm text-white/60">관리자 확인 중...</p>
      </header>

      <main class="grid gap-6">
        <section class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-4">
          <div class="flex flex-wrap gap-2">
            <button
              id="tabManage"
              class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              type="button"
            >
              콘텐츠 관리
            </button>
            <button
              id="tabDeleted"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              삭제된 콘텐츠
            </button>
            <button
              id="tabPublications"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              최근 공개일 변경
            </button>
            <button
              id="tabMissingCompletion"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              완결일 미설정
            </button>
            <button
              id="tabMissingPublication"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              공개일 미설정
            </button>
            <button
              id="tabAudit"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              운영 로그
            </button>
            <button
              id="tabCdcEvents"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              CDC 이벤트
            </button>
            <button
              id="tabCrawlerReports"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              작업 로그
            </button>
            <button
              id="tabDailyNotificationReport"
              class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:border-white/40 hover:text-white"
              type="button"
            >
              일일 알림 리포트
            </button>
          </div>
        </section>

        <section id="panelManage" class="grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">콘텐츠 검색</h2>
            <p class="mt-1 text-xs text-white/60">검색어는 2자 이상 입력해야 합니다.</p>
            <div class="mt-4 space-y-3">
              <input
                id="manageSearchInput"
                type="text"
                placeholder="검색어 입력"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <div class="grid grid-cols-2 gap-3">
                <select
                  id="manageTypeSelect"
                  class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
                >
                  <option value="all">전체 타입</option>
                  <option value="webtoon">웹툰</option>
                  <option value="novel">웹소설</option>
                  <option value="ott">OTT</option>
                  <option value="series">시리즈</option>
                </select>
                <select
                  id="manageSourceSelect"
                  class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
                >
                  <option value="all">전체 소스</option>
                  <option value="naver_webtoon">네이버 웹툰</option>
                  <option value="kakao_webtoon">카카오 웹툰</option>
                  <option value="kakaopage_webtoon">카카오페이지 웹툰</option>
                </select>
              </div>
              <button
                id="manageSearchBtn"
                type="button"
                class="w-full rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                검색
              </button>
            </div>
            <div class="mt-6">
              <h3 class="text-sm font-semibold text-white/80">검색 결과</h3>
              <div
                id="manageResultsList"
                class="mt-3 max-h-[420px] space-y-2 overflow-y-auto pr-1 text-sm text-white/80"
              ></div>
            </div>
          </div>

          <div class="space-y-6">
            <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
              <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
                <div>
                  <h2 id="selectedTitle" class="text-lg font-semibold">콘텐츠를 선택하세요</h2>
                  <p id="selectedMeta" class="mt-1 text-xs text-white/60"></p>
                  <p id="selectedStatus" class="mt-1 text-xs text-white/60"></p>
                </div>
                <div class="flex h-20 w-20 items-center justify-center overflow-hidden rounded-xl border border-white/10 bg-black/30">
                  <img id="selectedThumb" alt="thumbnail" class="hidden h-full w-full object-cover" />
                  <span id="selectedThumbFallback" class="text-xs text-white/40">No Image</span>
                </div>
              </div>
            </div>

            <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
              <h3 class="text-sm font-semibold text-white/80">Final-state</h3>
              <div id="finalStateBox" class="mt-3 space-y-2 text-sm text-white/70"></div>
              <div id="scheduledNotice" class="mt-3 hidden rounded-xl border border-amber-400/40 bg-amber-500/10 px-3 py-2 text-xs text-amber-100">
                예약 상태에서는 CDC 이벤트가 기록되지 않음
              </div>
            </div>

            <div class="grid gap-4 lg:grid-cols-3">
              <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-5">
                <h3 class="text-sm font-semibold text-white/80">완결 처리</h3>
                <div class="mt-3 space-y-2 text-sm text-white/70">
                  <input
                    id="overrideCompletedAt"
                    type="datetime-local"
                    class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
                  />
                  <p class="text-[11px] text-white/40">KST(Asia/Seoul) 기준</p>
                  <input
                    id="overrideReason"
                    type="text"
                    placeholder="사유 (선택)"
                    class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
                  />
                  <div class="flex gap-2">
                    <button
                      id="overrideSaveBtn"
                      type="button"
                      class="flex-1 rounded-xl border border-emerald-400/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100 transition hover:border-emerald-300/70"
                    >
                      저장
                    </button>
                    <button
                      id="overrideDeleteBtn"
                      type="button"
                      class="flex-1 rounded-xl border border-red-400/40 bg-red-500/10 px-3 py-2 text-xs text-red-100 transition hover:border-red-300/70"
                    >
                      삭제
                    </button>
                  </div>
                  <p id="overrideHelperText" class="text-[11px] text-white/50"></p>
                </div>
              </div>

              <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-5">
                <h3 class="text-sm font-semibold text-white/80">공개일 관리</h3>
                <div class="mt-3 space-y-2 text-sm text-white/70">
                  <input
                    id="publicationAt"
                    type="datetime-local"
                    class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
                  />
                  <p class="text-[11px] text-white/40">KST(Asia/Seoul) 기준</p>
                  <input
                    id="publicationReason"
                    type="text"
                    placeholder="사유 (선택)"
                    class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
                  />
                  <div class="flex gap-2">
                    <button
                      id="publicationSaveBtn"
                      type="button"
                      class="flex-1 rounded-xl border border-emerald-400/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100 transition hover:border-emerald-300/70"
                    >
                      저장
                    </button>
                    <button
                      id="publicationDeleteBtn"
                      type="button"
                      class="flex-1 rounded-xl border border-red-400/40 bg-red-500/10 px-3 py-2 text-xs text-red-100 transition hover:border-red-300/70"
                    >
                      삭제
                    </button>
                  </div>
                  <div
                    id="publicationCdcStatus"
                    class="mt-2 hidden rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-xs text-white/70"
                  ></div>
                </div>
              </div>

              <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-5">
                <h3 class="text-sm font-semibold text-white/80">콘텐츠 삭제</h3>
                <div class="mt-3 space-y-2 text-sm text-white/70">
                  <textarea
                    id="deleteReason"
                    rows="3"
                    placeholder="삭제 사유 (필수)"
                    class="w-full resize-none rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
                  ></textarea>
                  <button
                    id="softDeleteBtn"
                    type="button"
                    class="w-full rounded-xl border border-red-400/40 bg-red-500/10 px-3 py-2 text-xs text-red-100 transition hover:border-red-300/70"
                  >
                    삭제하기
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="panelDeleted" class="hidden grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">삭제된 콘텐츠</h2>
            <div class="mt-4 space-y-3">
              <input
                id="deletedSearchInput"
                type="text"
                placeholder="검색어 (선택)"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button
                id="deletedSearchBtn"
                type="button"
                class="w-full rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                검색
              </button>
            </div>
            <div id="deletedList" class="mt-6 max-h-[420px] space-y-2 overflow-y-auto pr-1 text-sm text-white/80"></div>
            <div class="mt-4 flex items-center justify-between text-xs text-white/60">
              <button id="deletedPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="deletedNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>

          <div class="space-y-4">
            <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
              <h3 class="text-sm font-semibold text-white/80">상세 정보</h3>
              <div id="deletedDetail" class="mt-3 space-y-2 text-sm text-white/70"></div>
              <button
                id="restoreBtn"
                type="button"
                class="mt-4 w-full rounded-xl border border-emerald-400/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100 transition hover:border-emerald-300/70"
              >
                복구하기
              </button>
            </div>
          </div>
        </section>

        <section id="panelPublications" class="hidden grid gap-6 lg:grid-cols-[1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">최근 공개일 변경</h2>
            <div id="publicationsList" class="mt-4 space-y-2 text-sm text-white/80"></div>
            <div class="mt-4 flex items-center justify-between text-xs text-white/60">
              <button id="publicationsPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="publicationsNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>
        </section>

        <section id="panelMissingCompletion" class="hidden grid gap-6 lg:grid-cols-[1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">완결일 미설정 콘텐츠</h2>
            <div class="mt-4 flex flex-wrap gap-2">
              <select
                id="missingCompletionSourceSelect"
                class="min-w-[140px] rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="all">전체 소스</option>
                <option value="naver_webtoon">네이버 웹툰</option>
                <option value="kakao_webtoon">카카오 웹툰</option>
                <option value="kakaopage_webtoon">카카오페이지 웹툰</option>
              </select>
              <select
                id="missingCompletionTypeSelect"
                class="min-w-[120px] rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="all">전체 타입</option>
                <option value="webtoon">웹툰</option>
                <option value="novel">웹소설</option>
                <option value="ott">OTT</option>
                <option value="series">시리즈</option>
              </select>
              <input
                id="missingCompletionSearchInput"
                type="text"
                placeholder="제목 필터 (선택)"
                class="min-w-[200px] flex-1 rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button
                id="missingCompletionRefreshBtn"
                type="button"
                class="rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                새로고침
              </button>
            </div>
            <div id="missingCompletionList" class="mt-4 space-y-2 text-sm text-white/80"></div>
            <div class="mt-4 flex items-center justify-between text-xs text-white/60">
              <button id="missingCompletionPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="missingCompletionNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>
        </section>

        <section id="panelMissingPublication" class="hidden grid gap-6 lg:grid-cols-[1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">공개일 미설정 콘텐츠</h2>
            <div class="mt-4 flex flex-wrap gap-2">
              <select
                id="missingPublicationSourceSelect"
                class="min-w-[140px] rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="all">전체 소스</option>
                <option value="naver_webtoon">네이버 웹툰</option>
                <option value="kakao_webtoon">카카오 웹툰</option>
                <option value="kakaopage_webtoon">카카오페이지 웹툰</option>
              </select>
              <select
                id="missingPublicationTypeSelect"
                class="min-w-[120px] rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="all">전체 타입</option>
                <option value="webtoon">웹툰</option>
                <option value="novel">웹소설</option>
                <option value="ott">OTT</option>
                <option value="series">시리즈</option>
              </select>
              <input
                id="missingPublicationSearchInput"
                type="text"
                placeholder="제목 필터 (선택)"
                class="min-w-[200px] flex-1 rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button
                id="missingPublicationRefreshBtn"
                type="button"
                class="rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                새로고침
              </button>
            </div>
            <div id="missingPublicationList" class="mt-4 space-y-2 text-sm text-white/80"></div>
            <div class="mt-4 flex items-center justify-between text-xs text-white/60">
              <button id="missingPublicationPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="missingPublicationNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>
        </section>

        <section id="panelAudit" class="hidden grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">운영 로그</h2>
            <div class="mt-4 space-y-3">
              <input
                id="auditSearchInput"
                type="text"
                placeholder="검색어 (제목/콘텐츠 ID)"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <select
                id="auditActionSelect"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="">전체 액션</option>
                <option value="OVERRIDE_UPSERT">완결 처리 저장</option>
                <option value="OVERRIDE_DELETE">완결 처리 삭제</option>
                <option value="PUBLICATION_UPSERT">공개일 저장</option>
                <option value="PUBLICATION_DELETE">공개일 삭제</option>
                <option value="CONTENT_DELETE">콘텐츠 삭제</option>
                <option value="CONTENT_RESTORE">콘텐츠 복구</option>
              </select>
              <button
                id="auditSearchBtn"
                type="button"
                class="w-full rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                검색
              </button>
            </div>
            <div class="mt-6 flex items-center justify-between text-xs text-white/60">
              <button id="auditPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="auditNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>

          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h3 class="text-sm font-semibold text-white/80">로그 목록</h3>
            <div id="auditList" class="mt-3 space-y-2 text-sm text-white/80"></div>
          </div>
        </section>

        <section id="panelCdcEvents" class="hidden grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">CDC 이벤트</h2>
            <div class="mt-4 space-y-3">
              <input
                id="cdcSearchInput"
                type="text"
                placeholder="검색어 (제목/콘텐츠 ID)"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <select
                id="cdcEventTypeSelect"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="">전체 이벤트</option>
                <option value="CONTENT_COMPLETED">완결</option>
                <option value="CONTENT_PUBLISHED">공개</option>
              </select>
              <select
                id="cdcSourceSelect"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="">전체 소스</option>
                <option value="naver_webtoon">네이버 웹툰</option>
                <option value="kakao_webtoon">카카오 웹툰</option>
                <option value="kakaopage_webtoon">카카오페이지 웹툰</option>
              </select>
              <input
                id="cdcContentIdInput"
                type="text"
                placeholder="content_id (정확히)"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <input
                id="cdcCreatedFrom"
                type="datetime-local"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <input
                id="cdcCreatedTo"
                type="datetime-local"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button
                id="cdcSearchBtn"
                type="button"
                class="w-full rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                검색
              </button>
            </div>
            <div class="mt-6 flex items-center justify-between text-xs text-white/60">
              <button id="cdcPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="cdcNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>

          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h3 class="text-sm font-semibold text-white/80">이벤트 목록</h3>
            <div id="cdcEventsList" class="mt-3 space-y-2 text-sm text-white/80"></div>
          </div>
        </section>

        <section id="panelDailyNotificationReport" class="hidden grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">일일 알림 리포트</h2>
            <p class="mt-1 text-xs text-white/60">
              과거 이메일 리포트 형식으로 요약을 확인하고 Copy로 공유할 수 있습니다.
            </p>
            <div class="mt-4 space-y-3">
              <input
                id="dailyNotificationDateInput"
                type="date"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <label class="flex items-center gap-2 text-xs text-white/60">
                <input id="dailyNotificationIncludeDeleted" type="checkbox" class="h-4 w-4 accent-white/80" />
                삭제 콘텐츠 포함(표시만, 알림 제외)
              </label>
              <div class="flex flex-wrap gap-2">
                <button
                  id="dailyNotificationLoadBtn"
                  type="button"
                  class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] text-white/80 transition hover:border-white/40"
                >
                  일일 리포트 조회
                </button>
                <button
                  id="dailyNotificationCopyBtn"
                  type="button"
                  class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] text-white/80 transition hover:border-white/40"
                >
                  Copy Report
                </button>
              </div>
            </div>
          </div>

          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <div id="dailyNotificationSummary" class="text-xs text-white/70"></div>
            <div id="dailyNotificationCompletedList" class="mt-3 space-y-2 text-sm text-white/80"></div>
          </div>
        </section>

        <section id="panelCrawlerReports" class="hidden grid gap-6 lg:grid-cols-[360px_1fr]">
          <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
            <h2 class="text-lg font-semibold">작업 로그</h2>
            <div class="mt-4 space-y-3">
              <input
                id="reportsCrawlerNameInput"
                type="text"
                placeholder="crawler_name (예: scheduled publication cdc)"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <select
                id="reportsStatusSelect"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              >
                <option value="">전체 상태</option>
                <option value="success">success</option>
                <option value="warning">warning</option>
                <option value="failure">failure</option>
              </select>
              <input
                id="reportsCreatedFrom"
                type="datetime-local"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <input
                id="reportsCreatedTo"
                type="datetime-local"
                class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button
                id="reportsSearchBtn"
                type="button"
                class="w-full rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white transition hover:border-white/40"
              >
                검색
              </button>
            </div>
            <div class="mt-6 flex items-center justify-between text-xs text-white/60">
              <button id="reportsPrevBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">이전</button>
              <button id="reportsNextBtn" class="rounded-full border border-white/20 px-3 py-1 hover:border-white/40" type="button">다음</button>
            </div>
          </div>

          <div class="space-y-6">
            <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
              <div class="flex flex-wrap items-start justify-between gap-3">
                <div class="min-w-0">
                  <div class="flex flex-wrap items-center gap-2">
                    <span
                      id="dailySummaryBadge"
                      class="inline-flex rounded-full border border-white/20 bg-white/5 px-2 py-0.5 text-[10px] text-white/70"
                    >
                      summary
                    </span>
                    <h3 id="dailySummaryTitle" class="text-sm font-semibold text-white/80">
                      Daily Consolidated Summary
                    </h3>
                  </div>
                  <p id="dailySummaryMeta" class="mt-1 text-xs text-white/60"></p>
                </div>
                <div class="flex flex-wrap gap-2">
                  <button
                    id="dailySummaryCopyBtn"
                    type="button"
                    class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] text-white/80 transition hover:border-white/40"
                  >
                    Copy Summary
                  </button>
                </div>
              </div>
              <div class="mt-4 flex flex-wrap items-center gap-2 text-xs text-white/60">
                <label for="dailySummaryKeepDaysInput" class="text-white/60">보관 기간(일)</label>
                <input
                  id="dailySummaryKeepDaysInput"
                  type="number"
                  min="1"
                  max="365"
                  value="14"
                  class="w-24 rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-xs text-white focus:outline-none focus:ring-2 focus:ring-white/30"
                />
                <button
                  id="dailySummaryCleanupBtn"
                  type="button"
                  class="rounded-full border border-red-400/40 bg-red-500/10 px-3 py-1 text-[11px] text-red-100 transition hover:border-red-300/70"
                >
                  Cleanup
                </button>
              </div>
              <div id="dailySummaryList" class="mt-4 space-y-2 text-sm text-white/80"></div>
            </div>

            <div class="rounded-2xl border border-white/10 bg-[var(--bg-card)] p-6">
              <h3 class="text-sm font-semibold text-white/80">리포트 목록</h3>
              <div id="crawlerReportsList" class="mt-3 space-y-2 text-sm text-white/80"></div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <div
    id="adminGateOverlay"
    class="fixed inset-0 z-40 flex items-center justify-center bg-black/80 text-sm text-white"
  >
    <div class="rounded-2xl border border-white/10 bg-white/5 px-6 py-4 text-center shadow-xl">
      <p class="text-base font-semibold">Checking admin permissions...</p>
      <p class="mt-1 text-xs text-white/60">잠시만 기다려 주세요.</p>
    </div>
  </div>

  <div id="confirmModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
    <div class="w-full max-w-sm rounded-2xl border border-white/10 bg-[#111111] p-6 shadow-xl">
      <h3 id="confirmTitle" class="text-lg font-semibold">확인</h3>
      <p id="confirmMessage" class="mt-2 text-sm text-white/70"></p>
      <div class="mt-4 flex gap-2">
        <button
          id="confirmOkBtn"
          type="button"
          class="flex-1 rounded-xl border border-emerald-400/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100 transition hover:border-emerald-300/70"
        >
          확인
        </button>
        <button
          id="confirmCancelBtn"
          type="button"
          class="flex-1 rounded-xl border border-white/20 bg-white/5 px-3 py-2 text-xs text-white/80 transition hover:border-white/40"
        >
          취소
        </button>
      </div>
    </div>
  </div>

  <div id="detailModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
    <div class="w-full max-w-3xl rounded-2xl border border-white/10 bg-[#111111] p-6 shadow-xl">
      <div class="flex items-start justify-between gap-3">
        <div class="min-w-0">
          <h3 id="detailTitle" class="truncate text-lg font-semibold text-white">Details</h3>
          <p id="detailSubtitle" class="mt-1 truncate text-xs text-white/60"></p>
        </div>
        <div class="flex shrink-0 flex-wrap justify-end gap-2">
          <button
            id="detailCopyIdBtn"
            type="button"
            class="hidden rounded-xl border border-white/20 bg-white/10 px-3 py-2 text-xs text-white/80 transition hover:border-white/40"
          >
            Copy ID
          </button>
          <button
            id="detailCopyIdSourceBtn"
            type="button"
            class="hidden rounded-xl border border-white/20 bg-white/10 px-3 py-2 text-xs text-white/80 transition hover:border-white/40"
          >
            Copy ID+Source
          </button>
          <button
            id="detailCopyJsonBtn"
            type="button"
            class="rounded-xl border border-white/20 bg-white/10 px-3 py-2 text-xs text-white/80 transition hover:border-white/40"
          >
            Copy JSON
          </button>
          <button
            id="detailCloseBtn"
            type="button"
            class="rounded-xl border border-white/20 bg-transparent px-3 py-2 text-xs text-white/80 transition hover:border-white/40"
          >
            닫기
          </button>
        </div>
      </div>

      <pre
        id="detailBodyPre"
        class="mt-4 max-h-[60vh] overflow-auto rounded-xl border border-white/10 bg-black/40 p-4 text-xs text-white/80"
      ></pre>
    </div>
  </div>

  <script src="{{ url_for('static', filename='admin.js') }}" defer></script>
</body>
</html>
